<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Formatter</title>


    <style>
      
      	textarea {
        	width: 40%;
            height: 150px;
          	font-family: monospace;
          	font-size: 16px;
      	}

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: monospace;
            font-size: xx-large;
            margin: 0px;
        }

        #directionsBox {
            width: 35%;
            height: 250px;
            font-family: monospace;
            font-size: 18px;
            box-sizing: border-box;
            align-content: center;
        }

        #quickFormatBtn {
            width: 175px;
            height: 60px;
            font-size: 24px;
            margin-top: 0px;
            cursor: pointer;
            align-self: center;
        }

    </style>

</head>

<script>
    function formatDirections() {
        const input = document.getElementById("input").value;
        const defaultkeywords = ["left", "right", "continue"]

        const lines = input.split("\n");

        const filtered = lines.filter(line =>
            defaultkeywords.some(keyword => line.toLowerCase().includes(keyword))
        );

        

        // convert to uppercase and remove "TURN " prefix
        document.getElementById("output").value = 
            filtered.join("\n")
                .toUpperCase()
                .replace(/^TURN\s+/gm, '');

        copyOutput();
        setStatus("Formatted and copied to clipboard!");
    }


    function copyOutput() {
        const output = document.getElementById("output");
        output.select();
        document.execCommand("copy");
        setStatus("Copied to clipboard!");
    }


    function clearBoxes() {
        document.getElementById("input").value = "";
        document.getElementById("output").value = "";
        setStatus("Cleared!");
    }

    function setStatus(msg) {
        const status = document.getElementById("status");
        status.textContent = msg;
        setTimeout(() => status.textContent = "", 2000);
    }

    async function quickFormat() {
        await navigator.clipboard.readText().then(text => {
            document.getElementById("input").value = text;
        });
        formatDirections();
    }



</script>

   

<body>

<h1><b>Steps:</b></h1>
<ol>
    <li>Copy directions from Routefinder</li>
    <li>Click <b>Format Directions</b></li>
    <li>Paste back into Routefinder</li>
</ol>

<div style="margin-bottom: 30px;">
    <button id="quickFormatBtn" onClick="quickFormat()">Format Directions</button>
</div>

<textarea id="input" rows="12" cols="50"></textarea>



<p id="status"></p>


<textarea id="output" rows="12" cols="50"></textarea>

</body>
</html>
